//
//  UIViewController+ESUIRuntime.m
//  iosproject
//
//  Created by hlcisy on 2020/11/4.
//  Copyright Â© 2020 hlcisy. All rights reserved.
//

#import "UIViewController+ESUIRuntime.h"
#import "NSObject+ESUIRuntime.h"

@implementation UIViewController (ESUIRuntime)

- (BOOL)esui_hasOverrideUIKitMethod:(_Nonnull SEL)selector {
    NSMutableArray<Class> *viewControllerSuperclasses = [[NSMutableArray alloc] initWithObjects:
                                               [UIImagePickerController class],
                                               [UINavigationController class],
                                               [UITableViewController class],
                                               [UICollectionViewController class],
                                               [UITabBarController class],
                                               [UISplitViewController class],
                                               [UIPageViewController class],
                                               [UIViewController class],
                                               nil];
    
    if (NSClassFromString(@"UIAlertController")) {
        [viewControllerSuperclasses addObject:[UIAlertController class]];
    }
    if (NSClassFromString(@"UISearchController")) {
        [viewControllerSuperclasses addObject:[UISearchController class]];
    }
    for (NSInteger i = 0, l = viewControllerSuperclasses.count; i < l; i++) {
        Class superclass = viewControllerSuperclasses[i];
        if ([self esui_hasOverrideMethod:selector ofSuperclass:superclass]) {
            return YES;
        }
    }
    return NO;
}
@end
